---
title: Rust Vectorï¼ˆVecï¼‰æ•™ç¨‹ 7day
published: 2025-11-03
description: ''
image: ''
tags: [rust,vector]
category: 'rust'
draft: false 
lang: ''
---

# ğŸ¦€ Rust Vectorï¼ˆVecï¼‰æ•™ç¨‹

## ç›®å½•

1. Vector æ¦‚å¿µ
2. åˆ›å»º Vector
3. è®¿é—®å…ƒç´ 
4. æ·»åŠ å’Œåˆ é™¤å…ƒç´ 
5. éå† Vector
6. å¯å˜ Vector ä¸ä¸å¯å˜ Vector
7. åˆ‡ç‰‡ä¸ Vector
8. Vector å¸¸ç”¨æ–¹æ³•
9. ç»¼åˆç¤ºä¾‹
10. æ€»ç»“

---

## 1ï¸âƒ£ Vector æ¦‚å¿µ

* `Vec<T>` æ˜¯ **åŠ¨æ€æ•°ç»„**
* å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å¢é•¿æˆ–ç¼©å°
* å…ƒç´ ç±»å‹ç»Ÿä¸€
* æ•°æ®å­˜å‚¨åœ¨ **å †ï¼ˆHeapï¼‰** ä¸Š
* Rust çš„æ‰€æœ‰æƒè§„åˆ™åŒæ ·é€‚ç”¨

```rust
let v: Vec<i32> = Vec::new(); // ç©º Vector
```

---

## 2ï¸âƒ£ åˆ›å»º Vector

### ç©º Vector

```rust
fn main() {
    let v: Vec<i32> = Vec::new();
}
```

### å¸¦åˆå§‹å…ƒç´ 

```rust
fn main() {
    let v = vec![1, 2, 3, 4];
    println!("{:?}", v);
}
```

---

## 3ï¸âƒ£ è®¿é—®å…ƒç´ 

### ä½¿ç”¨ç´¢å¼•

```rust
fn main() {
    let v = vec![10, 20, 30];
    println!("ç¬¬ä¸€ä¸ªå…ƒç´ : {}", v[0]);
}
```

> âš ï¸ æ³¨æ„ï¼šç´¢å¼•è¶Šç•Œä¼š panic

### ä½¿ç”¨ `get`

```rust
fn main() {
    let v = vec![10, 20, 30];
    match v.get(2) {
        Some(x) => println!("ç¬¬ä¸‰ä¸ªå…ƒç´ : {}", x),
        None => println!("ç´¢å¼•è¶Šç•Œ"),
    }
}
```

---

## 4ï¸âƒ£ æ·»åŠ å’Œåˆ é™¤å…ƒç´ 

### æ·»åŠ å…ƒç´ 

```rust
fn main() {
    let mut v = vec![1, 2];
    v.push(3); // æ·»åŠ åˆ°æœ«å°¾
    println!("{:?}", v); // [1, 2, 3]
}
```

### åˆ é™¤å…ƒç´ 

```rust
fn main() {
    let mut v = vec![1, 2, 3];
    let last = v.pop(); // ç§»é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 
    println!("pop: {:?}, vec: {:?}", last, v); // pop: Some(3), vec: [1,2]
}
```

> ä¹Ÿå¯ä»¥ç”¨ `remove(index)` åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ ã€‚

---

## 5ï¸âƒ£ éå† Vector

### ä½¿ç”¨ `for` å¾ªç¯

```rust
fn main() {
    let v = vec![10, 20, 30];
    for i in &v {
        println!("{}", i);
    }
}
```

### ä½¿ç”¨è¿­ä»£å™¨

```rust
fn main() {
    let v = vec![10, 20, 30];
    v.iter().for_each(|x| println!("{}", x));
}
```

### å¯å˜éå†

```rust
fn main() {
    let mut v = vec![1, 2, 3];
    for i in &mut v {
        *i *= 2;
    }
    println!("{:?}", v); // [2, 4, 6]
}
```

---

## 6ï¸âƒ£ å¯å˜ Vector ä¸ä¸å¯å˜ Vector

* é»˜è®¤åˆ›å»ºä¸å¯å˜ Vectorï¼š

  ```rust
  let v = vec![1, 2, 3];
  // v.push(4); // âŒ ç¼–è¯‘é”™è¯¯
  ```
* ä½¿ç”¨ `mut` å£°æ˜å¯å˜ Vectorï¼š

  ```rust
  let mut v = vec![1, 2, 3];
  v.push(4); // âœ…
  ```

---

## 7ï¸âƒ£ åˆ‡ç‰‡ä¸ Vector

Vector å¯ä»¥å€Ÿç”¨ç”Ÿæˆåˆ‡ç‰‡ï¼ˆsliceï¼‰ï¼š

```rust
fn main() {
    let v = vec![1, 2, 3, 4, 5];
    let s = &v[1..4]; // [2,3,4]
    println!("{:?}", s);
}
```

> åˆ‡ç‰‡æ˜¯å¯¹ Vector çš„å¼•ç”¨ï¼Œä¸æ‹¥æœ‰æ•°æ®ã€‚

---

## 8ï¸âƒ£ Vector å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•                   | åŠŸèƒ½          |
| -------------------- | ----------- |
| `push(val)`          | æ·»åŠ å…ƒç´ åˆ°æœ«å°¾     |
| `pop()`              | ç§»é™¤æœ«å°¾å…ƒç´       |
| `insert(index, val)` | åœ¨æŒ‡å®šä½ç½®æ’å…¥     |
| `remove(index)`      | ç§»é™¤æŒ‡å®šä½ç½®å…ƒç´     |
| `len()`              | è¿”å›é•¿åº¦        |
| `is_empty()`         | æ˜¯å¦ä¸ºç©º        |
| `iter()`             | è·å–ä¸å¯å˜è¿­ä»£å™¨    |
| `iter_mut()`         | è·å–å¯å˜è¿­ä»£å™¨     |
| `clone()`            | å…‹éš†æ•´ä¸ª Vector |

---

## 9ï¸âƒ£ ç»¼åˆç¤ºä¾‹

```rust
fn main() {
    let mut v = vec![1, 2, 3];

    v.push(4);
    println!("Vector: {:?}", v);

    let last = v.pop();
    println!("pop: {:?}, Vector: {:?}", last, v);

    for val in &mut v {
        *val *= 10;
    }
    println!("ä¿®æ”¹åçš„ Vector: {:?}", v);

    let slice = &v[0..2];
    println!("åˆ‡ç‰‡: {:?}", slice);
}
```

è¾“å‡ºï¼š

```
Vector: [1, 2, 3, 4]
pop: Some(4), Vector: [1, 2, 3]
ä¿®æ”¹åçš„ Vector: [10, 20, 30]
åˆ‡ç‰‡: [10, 20]
```

---

## 10ï¸âƒ£ æ€»ç»“

1. `Vec<T>` æ˜¯åŠ¨æ€æ•°ç»„ï¼Œå­˜å‚¨åœ¨å †ä¸Š
2. æ”¯æŒåŠ¨æ€å¢é•¿å’Œç¼©å°
3. å¯é€šè¿‡ç´¢å¼•æˆ–åˆ‡ç‰‡è®¿é—®å…ƒç´ 
4. å¯å˜ Vector å¯ä¿®æ”¹å…ƒç´ å’Œæ·»åŠ åˆ é™¤
5. åˆ‡ç‰‡æ˜¯å€Ÿç”¨ Vector çš„ä¸€éƒ¨åˆ†
6. ä½¿ç”¨è¿­ä»£å™¨æ–¹ä¾¿éå†
7. å¸¸ç”¨æ–¹æ³•ï¼š`push`, `pop`, `insert`, `remove`, `iter`

---

ğŸ’¡ **ç»ƒä¹ å»ºè®®**ï¼š

1. åˆ›å»ºä¸€ä¸ª `Vec<String>`ï¼Œæ·»åŠ ã€åˆ é™¤ã€éå†å­—ç¬¦ä¸²
2. å°è¯•ç”¨å¯å˜å¼•ç”¨ä¿®æ”¹ Vector å†…çš„å…ƒç´ 
3. ç¼–å†™å‡½æ•°æ¥æ”¶ Vector åˆ‡ç‰‡ï¼Œè¿”å›æœ€å¤§å€¼
4. ç”¨è¿­ä»£å™¨å®ç°å¯¹ Vector æ‰€æœ‰å…ƒç´ æ±‚å’Œ
