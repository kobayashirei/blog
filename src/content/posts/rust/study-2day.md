---
title: study 2day
published: 2025-11-03
description: 'å­¦ä¹  if / elseã€loopã€whileã€for ç­‰æ‰€æœ‰æ§åˆ¶æµè¯­å¥'
image: ''
tags: [rust]
category: 'rust'
draft: false 
lang: ''
---

# ğŸ§© Rust æ§åˆ¶æµæ•™ç¨‹

---

## ğŸŒ± ä¸€ã€`if` / `else` æ¡ä»¶è¯­å¥

Rust ä¸­çš„ `if` è¯­å¥éå¸¸ç®€æ´ï¼š
**æ¡ä»¶å¿…é¡»æ˜¯å¸ƒå°”è¡¨è¾¾å¼ï¼ˆ`bool`ï¼‰**ï¼Œä¸èƒ½æ˜¯æ•´æ•°ï¼ˆå¦‚ `1`ï¼‰ã€‚

### âœ… åŸºæœ¬ç”¨æ³•

```rust
fn main() {
    let num = 5;

    if num > 0 {
        println!("æ­£æ•°");
    } else if num < 0 {
        println!("è´Ÿæ•°");
    } else {
        println!("é›¶");
    }
}
```

è¾“å‡ºï¼š

```
æ­£æ•°
```

---

### âœ… `if` æ˜¯è¡¨è¾¾å¼ï¼ˆå¯è¿”å›å€¼ï¼‰

Rust çš„ `if` å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå€¼ï¼ˆç±»ä¼¼ä¸‰å…ƒè¿ç®—ç¬¦ï¼‰ï¼Œ
å› æ­¤å¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼š

```rust
fn main() {
    let x = 10;
    let result = if x % 2 == 0 { "even" } else { "odd" };

    println!("x æ˜¯ {}", result);
}
```

è¾“å‡ºï¼š

```
x æ˜¯ even
```

> âš ï¸ æ³¨æ„ï¼š`if` çš„æ‰€æœ‰åˆ†æ”¯å¿…é¡»è¿”å›ç›¸åŒç±»å‹ï¼

é”™è¯¯ç¤ºä¾‹ï¼š

```rust
let val = if true { 5 } else { "hello" }; // âŒ ç±»å‹ä¸ä¸€è‡´
```

---

## ğŸ” äºŒã€å¾ªç¯è¯­å¥ï¼ˆloop / while / forï¼‰

Rust æä¾›ä¸‰ç§å¾ªç¯æ–¹å¼ï¼š

| ç±»å‹      | è¯´æ˜                |
| ------- | ----------------- |
| `loop`  | æ— é™å¾ªç¯ï¼Œéœ€ `break` è·³å‡º |
| `while` | æ¡ä»¶å¾ªç¯              |
| `for`   | è¿­ä»£å¾ªç¯ï¼ˆæœ€å¸¸ç”¨ï¼‰         |

---

### 1ï¸âƒ£ `loop` â€”â€” æ— é™å¾ªç¯

```rust
fn main() {
    let mut count = 0;
    loop {
        count += 1;
        println!("å¾ªç¯ä¸­ï¼š{}", count);

        if count == 3 {
            println!("è·³å‡ºå¾ªç¯ï¼");
            break;
        }
    }
}
```

è¾“å‡ºï¼š

```
å¾ªç¯ä¸­ï¼š1
å¾ªç¯ä¸­ï¼š2
å¾ªç¯ä¸­ï¼š3
è·³å‡ºå¾ªç¯ï¼
```

---

### âœ… `loop` å¯è¿”å›å€¼ï¼ˆéå¸¸ Rustï¼ï¼‰

```rust
fn main() {
    let mut count = 0;
    let result = loop {
        count += 1;
        if count == 5 {
            break count * 2; // è¿”å›å€¼
        }
    };
    println!("ç»“æœæ˜¯ {}", result);
}
```

è¾“å‡ºï¼š

```
ç»“æœæ˜¯ 10
```

---

### 2ï¸âƒ£ `while` â€”â€” æ¡ä»¶å¾ªç¯

```rust
fn main() {
    let mut n = 3;

    while n > 0 {
        println!("å€’è®¡æ—¶: {}", n);
        n -= 1;
    }

    println!("å‘å°„ï¼");
}
```

è¾“å‡ºï¼š

```
å€’è®¡æ—¶: 3
å€’è®¡æ—¶: 2
å€’è®¡æ—¶: 1
å‘å°„ï¼
```

> âœ… `while` åœ¨å¾ªç¯å‰æ£€æŸ¥æ¡ä»¶ã€‚
> âš ï¸ æ³¨æ„ä¸è¦é™·å…¥æ­»å¾ªç¯ï¼ˆæ¡ä»¶æ°¸è¿œä¸ºçœŸï¼‰ã€‚

---

### 3ï¸âƒ£ `for` â€”â€” è¿­ä»£å¾ªç¯ï¼ˆæœ€å¸¸ç”¨ï¼‰

`for` ç”¨äºéå†é›†åˆã€æ•°ç»„ã€èŒƒå›´ï¼ˆrangeï¼‰ã€‚

#### ğŸ“˜ éå†èŒƒå›´

```rust
fn main() {
    for i in 1..5 { // ä¸åŒ…å«5
        println!("i = {}", i);
    }
}
```

è¾“å‡ºï¼š

```
i = 1
i = 2
i = 3
i = 4
```

å¦‚æœä½ æƒ³åŒ…å«ä¸Šé™ï¼Œå¯ä»¥ä½¿ç”¨ `1..=5`ï¼š

```rust
for i in 1..=5 {
    println!("åŒ…å«: {}", i);
}
```

---

#### ğŸ“— éå†æ•°ç»„æˆ–å‘é‡

```rust
fn main() {
    let arr = [10, 20, 30, 40];

    for val in arr {
        println!("å…ƒç´ : {}", val);
    }
}
```

---

#### ğŸ“™ éå†å¸¦ç´¢å¼•ï¼ˆä½¿ç”¨ `.iter().enumerate()`ï¼‰

```rust
fn main() {
    let names = ["Alice", "Bob", "Charlie"];

    for (index, name) in names.iter().enumerate() {
        println!("ç¬¬ {} ä½: {}", index, name);
    }
}
```

---

#### ğŸ“’ å€’åºéå†

```rust
fn main() {
    for n in (1..5).rev() {
        println!("{}!", n);
    }
    println!("å‘å°„ï¼");
}
```

è¾“å‡ºï¼š

```
4!
3!
2!
1!
å‘å°„ï¼
```

---

## ğŸ§± ä¸‰ã€`break` ä¸ `continue`

### âœ… `break` è·³å‡ºå¾ªç¯

```rust
fn main() {
    for i in 1..10 {
        if i == 4 {
            break;
        }
        println!("i = {}", i);
    }
}
```

è¾“å‡ºï¼š

```
i = 1
i = 2
i = 3
```

---

### âœ… `continue` è·³è¿‡æœ¬æ¬¡å¾ªç¯

```rust
fn main() {
    for i in 1..6 {
        if i == 3 {
            continue;
        }
        println!("i = {}", i);
    }
}
```

è¾“å‡ºï¼š

```
i = 1
i = 2
i = 4
i = 5
```

---

### âœ… `break` + æ ‡ç­¾ï¼ˆå¤šå±‚å¾ªç¯è·³å‡ºï¼‰

Rust æ”¯æŒ **å¾ªç¯æ ‡ç­¾ï¼ˆloop labelï¼‰**ï¼Œå¯æŒ‡å®šè¦è·³å‡ºçš„å“ªä¸€å±‚å¾ªç¯ï¼š

```rust
fn main() {
    'outer: for i in 1..=3 {
        for j in 1..=3 {
            if i == 2 && j == 2 {
                break 'outer; // è·³å‡ºå¤–å±‚å¾ªç¯
            }
            println!("i={}, j={}", i, j);
        }
    }
}
```

è¾“å‡ºï¼š

```
i=1, j=1
i=1, j=2
i=1, j=3
i=2, j=1
```

---

## ğŸ§  å››ã€æ§åˆ¶æµè¡¨è¾¾å¼æ€»ç»“

| å…³é”®å­—         | åŠŸèƒ½     | å¯è¿”å›å€¼          | å¸¸è§åœºæ™¯      |
| ----------- | ------ | ------------- | --------- |
| `if / else` | æ¡ä»¶åˆ¤æ–­   | âœ… å¯è¿”å›å€¼        | æ¡ä»¶åˆ†æ”¯ã€ä¸‰å…ƒæ›¿ä»£ |
| `loop`      | æ— é™å¾ªç¯   | âœ… å¯è¿”å›å€¼        | äº‹ä»¶å¾ªç¯ã€ç­‰å¾…æ¡ä»¶ |
| `while`     | æ¡ä»¶å¾ªç¯   | âŒ ä¸è¿”å›å€¼        | æ™®é€šæ¡ä»¶æ§åˆ¶    |
| `for`       | è¿­ä»£é›†åˆ   | âŒ ä¸è¿”å›å€¼        | éå†æ•°ç»„ã€èŒƒå›´   |
| `break`     | è·³å‡ºå¾ªç¯   | âœ… å¯å¸¦å€¼ï¼ˆä»… loopï¼‰ | æå‰ç»“æŸ      |
| `continue`  | è·³è¿‡å½“å‰å¾ªç¯ | âŒ             | è·³è¿‡éƒ¨åˆ†é€»è¾‘    |
| `'label`    | å‘½åå¾ªç¯   | âœ…             | åµŒå¥—è·³å‡º      |

---

## ğŸ’¡ äº”ã€ç»ƒä¹ å»ºè®®

ä¸‹é¢æ˜¯å‡ ä¸ªéå¸¸å¥½çš„ç»ƒä¹ ï¼š

1. ğŸ§® **FizzBuzz é—®é¢˜**

   ```rust
   for i in 1..=20 {
       if i % 15 == 0 {
           println!("FizzBuzz");
       } else if i % 3 == 0 {
           println!("Fizz");
       } else if i % 5 == 0 {
           println!("Buzz");
       } else {
           println!("{}", i);
       }
   }
   ```

2. ğŸ¯ **è®¡ç®— 1~100 çš„å’Œ**

   ```rust
   let mut sum = 0;
   for i in 1..=100 {
       sum += i;
   }
   println!("sum = {}", sum);
   ```

3. ğŸ” **ä½¿ç”¨ loop å®ç° while**

   ```rust
   let mut n = 5;
   loop {
       if n == 0 {
           break;
       }
       println!("n = {}", n);
       n -= 1;
   }
   ```

---

## ğŸ“š å…­ã€æ€»ç»“å£è¯€

> Rust æ§åˆ¶æµï¼š
>
> * åˆ¤æ–­ç”¨ `if`ï¼Œå¿…é¡»æ˜¯å¸ƒå°”ï¼›
> * å¾ªç¯æœ‰ä¸‰ï¼š`loop` æ— é™ã€`while` æ¡ä»¶ã€`for` è¿­ä»£ï¼›
> * `if`ã€`loop` éƒ½èƒ½è¿”å›å€¼ï¼›
> * `break`ã€`continue` æ§åˆ¶å¾ªç¯æµç¨‹ï¼›
> * æ”¯æŒæ ‡ç­¾è·³å‡ºå¤šå±‚å¾ªç¯ã€‚